Facter.add(:environment) do
    setcode do
        hostname = Facter.value(:hostname)
        
        if hostname.start_with?('junky-')
            if hostname =~ /^junky-(m|d)/
                'production'
            end
        elsif hostname.start_with?('puppet-')
            'production'
        end
    end
end